[Skip to content](https://github.com/vultisig/vultisig-windows/blob/main/core/ui/vault/import/components/ProcessVaultContainer.tsx#start-of-content)

You signed in with another tab or window. [Reload](https://github.com/vultisig/vultisig-windows/blob/main/core/ui/vault/import/components/ProcessVaultContainer.tsx) to refresh your session.You signed out in another tab or window. [Reload](https://github.com/vultisig/vultisig-windows/blob/main/core/ui/vault/import/components/ProcessVaultContainer.tsx) to refresh your session.You switched accounts on another tab or window. [Reload](https://github.com/vultisig/vultisig-windows/blob/main/core/ui/vault/import/components/ProcessVaultContainer.tsx) to refresh your session.Dismiss alert

[vultisig](https://github.com/vultisig)/ **[vultisig-windows](https://github.com/vultisig/vultisig-windows)** Public

- [Notifications](https://github.com/login?return_to=%2Fvultisig%2Fvultisig-windows) You must be signed in to change notification settings
- [Fork\\
7](https://github.com/login?return_to=%2Fvultisig%2Fvultisig-windows)
- [Star\\
9](https://github.com/login?return_to=%2Fvultisig%2Fvultisig-windows)


## Files

main

/

# ProcessVaultContainer.tsx

Copy path

Blame

Blame

## Latest commit

[![Ehsan-saradar](https://avatars.githubusercontent.com/u/7792430?v=4&size=40)](https://github.com/Ehsan-saradar)[Ehsan-saradar](https://github.com/vultisig/vultisig-windows/commits?author=Ehsan-saradar)

[Move import vault to core and reuse it in both clients (](https://github.com/vultisig/vultisig-windows/commit/edff50a93456064b3ccfe316c860b8ae14408520) [#1555](https://github.com/vultisig/vultisig-windows/pull/1555) [)](https://github.com/vultisig/vultisig-windows/commit/edff50a93456064b3ccfe316c860b8ae14408520)

May 13, 2025

[edff50a](https://github.com/vultisig/vultisig-windows/commit/edff50a93456064b3ccfe316c860b8ae14408520) · May 13, 2025

## History

[History](https://github.com/vultisig/vultisig-windows/commits/main/core/ui/vault/import/components/ProcessVaultContainer.tsx)

40 lines (36 loc) · 1.35 KB

/

# ProcessVaultContainer.tsx

Top

## File metadata and controls

- Code

- Blame


40 lines (36 loc) · 1.35 KB

[Raw](https://github.com/vultisig/vultisig-windows/raw/refs/heads/main/core/ui/vault/import/components/ProcessVaultContainer.tsx)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

import{fromBinary}from'@bufbuild/protobuf'

import{fromCommVault}from'@core/mpc/types/utils/commVault'

import{VaultContainer}from'@core/mpc/types/vultisig/vault/v1/vault\_container\_pb'

import{VaultSchema}from'@core/mpc/types/vultisig/vault/v1/vault\_pb'

import{DecryptVaultContainerStep}from'@core/ui/vault/import/components/DecryptVaultContainerStep'

import{Vault}from'@core/ui/vault/Vault'

import{ValueTransfer}from'@lib/ui/base/ValueTransfer'

import{ValueProp}from'@lib/ui/props'

import{fromBase64}from'@lib/utils/fromBase64'

import{pipe}from'@lib/utils/pipe'

import{SaveImportedVaultStep}from'./SaveImportedVaultStep'

exportconstProcessVaultContainer=({ value }: ValueProp<VaultContainer>)=>{

const{vault: vaultAsBase64String, isEncrypted }=value

if(isEncrypted){

return(

<ValueTransfer<Vault>

from={({ onFinish })=>(

<DecryptVaultContainerStep

value={vaultAsBase64String}

onFinish={onFinish}

/>

)}

to={({ value })=><SaveImportedVaultStepvalue={value}/>}

/>

)

}

constvault=pipe(

vaultAsBase64String,

fromBase64,

v=>newUint8Array(v),

v=>fromBinary(VaultSchema,v),

fromCommVault,

vault=>({ ...vault,isBackedUp: true})

)

return<SaveImportedVaultStepvalue={vault}/>

}

You can’t perform that action at this time.